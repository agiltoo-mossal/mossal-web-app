<div class="container">
  <div class="container-title-setting">
    <span>Avance sur √©v√©nement</span>
  </div>
  <div class="avance-evenement-container">
    <!-- Section Activation du service -->
    <div class="section flex-center">
      <h3>Activation du service</h3>
      <app-toggle-slide
        [firstText]="'Actif'"
        [secondText]="'Inactif'"
        [uniqueId]="'serviceActivation'"
      ></app-toggle-slide>
    </div>

    <!-- Liste des √©v√©nements pr√©vus -->
    <div class="section">
      <h3>Liste des √©v√©nements pr√©vus</h3>
      <ul class="event-list">
        <li *ngFor="let event of events; let i = index" class="event-item">
          <div class="event-toggle">
            <app-toggle-slide
              [firstText]="'Actif'"
              [secondText]="'Inactif'"
              [uniqueId]="'event-' + i"
            ></app-toggle-slide>
          </div>
          <div class="event-details">
            <span>{{ event.title }}</span>
            <div class="event-details-date">
              <input type="date" [value]="event.startDate" />
              <input type="date" [value]="event.endDate" />
            </div>
            <div>
              <button class="edit-btn">‚úèÔ∏è</button>
              <button class="delete-btn">üóëÔ∏è</button>
            </div>
          </div>
        </li>
      </ul>
      <div class="container-button">
        <button class="add-event-btn" (click)="createEvent()">
          Ajouter un √©v√©nement
        </button>
      </div>
    </div>

    <!-- Section des param√®tres -->
    <div class="section">
      <div class="category-input-group">
        <input
          type="text"
          class="category-input"
          [(ngModel)]="newCategory"
          placeholder="Nom de la cat√©gorie"
        />
        <button class="category-btn" (click)="addCategory()">
          Ajouter une cat√©gorie
        </button>
      </div>

      <mat-tab-group animationDuration="0ms" (selectedTabChange)="onTabChange($event)">
        <mat-tab
          *ngFor="let categorie of categories"
          [label]="categorie?.title"
        >
          <app-setting
            [categorie]="categorie"
            (serviceActivationChange)="handleServiceActivationChange($event)"
            (amountTypeChange)="handleAmountTypeChange($event)"
            (reimbursementChange)="handleReimbursementChange($event)"
            (validationChange)="handleValidationChange($event)"
          ></app-setting>
        </mat-tab>
      </mat-tab-group>
     
    </div>
    <button (click)="saveSettings()" class="validate-btn">Valider</button>
  </div>
</div>
